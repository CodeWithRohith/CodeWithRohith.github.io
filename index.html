<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rohith Kumar Saravanan - Full Stack Developer & AI Enthusiast</title>

  <link rel="preload"
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@400;500;700&display=swap"
    as="style">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">

  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@400;500;700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class', // or 'media'
      theme: {
        extend: {
          colors: {
            primary: '#3B82F6', // blue-500
            secondary: '#10B981', // green-500
            dark: '#1F2937', // gray-800
            light: '#F9FAFB', // gray-50
            accent: '#6366F1', // indigo-500
            'dark-bg': '#111827', // gray-900
            'dark-card': '#1F2937', // gray-800
            'dark-text': '#F3F4F6', // gray-100
            'light-text': '#1F2937' // gray-800
          },
          fontFamily: {
            poppins: ['Poppins', 'sans-serif'],
            roboto: ['Roboto', 'sans-serif']
          },
          animation: {
            'float': 'float 6s ease-in-out infinite',
            'fade-in': 'fadeIn 1s ease-in',
            'gradient-x': 'gradientX 8s ease infinite',
            'slide-in-down': 'slideInDown 0.8s ease-out',
            'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
            'spin-slow': 'spin 3s linear infinite',
            'ping-slow': 'ping 2s cubic-bezier(0, 0, 0.2, 1) infinite',
          },
          keyframes: {
            float: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-20px)' },
            },
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' },
            },
            gradientX: {
              '0%, 100%': { 'background-position': '0% 50%' },
              '50%': { 'background-position': '100% 50%' },
            },
            slideInDown: {
              from: { transform: 'translateY(-50px)', opacity: '0' },
              to: { transform: 'translateY(0)', opacity: '1' },
            },
            fadeInUp: {
              from: { opacity: '0', transform: 'translateY(20px)' },
              to: { opacity: '1', transform: 'translateY(0)' },
            },
          }
        }
      },
      plugins: [],
    }
  </script>
  <link rel="stylesheet" href="styles.css">

  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <!-- React 19 importmap has been REMOVED from here. The UMD React 18 scripts above are used. -->

</head>

<body class="bg-light text-light-text dark:bg-dark-bg dark:text-dark-text">
  <div id="particles-js-container"></div>
  <div id="root"></div>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

  <script type="text/babel">
    // --- TYPE DEFINITIONS ---
    const ModalType = {
      EDUCATION: 'education',
      CERTIFICATE: 'certificate',
      IMAGE: 'image',
      CONTACT_SUCCESS: 'contact_success'
    };

    // --- CONSTANTS ---
    const PROFILE_DATA = {
      name: "Rohith Kumar Saravanan",
      title: "Full-Stack Developer | Masterâ€™s in Computer Science ðŸŽ“ ('25) | AI & Cloud Enthusiast",
      resumeUrl: "./RohithKumarSaravanan.pdf",
      profilePicUrl: "./profile.jpeg",
      socialLinks: [
        { name: "LinkedIn", url: "https://www.linkedin.com/in/srohithkumar/", iconClass: "fab fa-linkedin-in" },
        { name: "GitHub", url: "https://github.com/CodeWithRohith", iconClass: "fab fa-github" },
        { name: "Email", url: "mailto:rohithk.saravanan@gmail.com", iconClass: "fas fa-envelope" },
        { name: "Medium", url: "https://rohithkumars.medium.com/", iconClass: "fab fa-medium" }
      ]
    };

    const ABOUT_DATA = {
      descriptionParagraphs: [
        "I'm the engineer who moves the needle. As a <span class=\"font-semibold text-primary\">Full-Stack Software Engineer</span> and <span class=\"font-semibold\">top-ranked M.S. Computer Science scholar</span>, I bridge the gap between advanced research and enterprise reality. My focus is <span class=\"font-semibold\">architecting resilient, scalable systems</span> that don't just work, but performâ€”a track record includes <span class=\"font-semibold\">boosting system throughput for major financial and telecom clients</span>.",
        "I build the future through <span class=\"font-semibold\">Cloud/DevOps initiatives</span>, ensuring <span class=\"font-semibold\">security and operational excellence</span>."
      ]
    };

    const JNTUA_MODAL_CONTENT = {
      title: "Bachelor's in Computer Science and Systems Engineering - JNTUA",
      description: "Built a solid foundation in software engineering, algorithms, and system architecture, with hands-on experience in developing scalable and efficient software solutions.",
      achievements: [
        "AP State Government Scholarship (Merit-Based)",
        "Dean's List (3 Semesters)"
      ],
      documents: [
        { name: "Degree Certificate", thumbnailUrl: "./certificates/btechdegree.png", largeUrl: "./certificates/btechdegree.png", alt: "B.Tech JNTUA Degree Certificate" },
        { name: "Transcript", thumbnailUrl: "./certificates/btechtranscripts.png", largeUrl: "./certificates/btechtranscripts.png", alt: "B.Tech JNTUA Transcript" }
      ]
    };

    const INFOSYS_MODAL_CONTENT = {
      title: "Infosys - Digital Specialist Engineer",
      responsibilities: [
        "Full-Stack Development & Feature Enhancements: Led enhancements for a warehouse management system using AngularJS and .NET Framework, working independently to deliver new features. Deployed the project via IIS, improving operational efficiency by 25%.",
        "CPQ System Development & Optimization: Built and optimized a real-time Cost Price Quote (CPQ) system using .NET Core, Angular, and Microsoft Azure, allowing escalator/elevator customization. Developed a verification engine, reducing configuration errors by 40% and enhancing code efficiency by 30%.",
        "AI-Powered Backend Development: Designed Flask and Flask-RESTful APIs for a government infrastructure project, enabling an AI-driven system to determine cost-effective internet connection routes. Optimized API response times by 35%.",
        "Enterprise Data Migration & Integration: Developed a data migration gateway for transitioning enterprise users from Google services to Microsoft services using Node.js, ensuring a 99.9% data transfer success rate with zero downtime.",
        "Cloud & Database Optimization: Deployed applications on Microsoft Azure and IIS, managing PostgreSQL, MySQL, and MS SQL databases, optimizing queries and indexing to enhance performance by 40%."
      ]
    };

    const MEDHASSU_MODAL_CONTENT = {
      title: "Full Stack Developer - Intern at Medhassu",
      responsibilities: [
        "Contributed to the development of web applications using Spring (backend) and React (frontend), working on user interface design and assisting with server and database integration.",
        "Gained hands-on experience in full-stack development and insights into software development workflows, IT team collaboration, and agile practices."
      ]
    };

    const CHEGG_MODAL_CONTENT = {
      title: "Online Tutor â€“ Computer Science at Chegg India",
      responsibilities: [
        "Assisted students globally in understanding core Computer Science subjects including Data Structures and Algorithms (DSA), Operating Systems, Computer Networks, and DBMS.",
        "Explained complex concepts through clear problem-solving strategies, improving studentsâ€™ academic performance and conceptual clarity.",
        "Developed strong communication and teaching skills by delivering personalized solutions in a fast-paced, deadline-driven environment."
      ]
    };

    const UNB_MODAL_CONTENT = {
      title: "Master's in Computer Science - University of New Brunswick",
      description: "Focused on advanced software development, cybersecurity, and management courses, such as Advanced Software Process, Quality Management, and Data Analysis. Equipped with a strong understanding of technical and strategic computing aspects.",
      researchLinks: [
        { text: "Classification of Mobile Adware Variants Using Machine Learning Techniques", url: "https://www.researchgate.net/publication/386507299_Classification_of_Mobile_Adware_Variants_Using_Machine_Learning_Techniques" },
        { text: "Emotion Detection in Poetry using Transformer-based Models", url: "https://www.researchgate.net/publication/390948169_Emotion_Detection_in_Poetry_using_Transformer-based_Models" }
      ],
      documents: [
        { name: "Degree Certificate", thumbnailUrl: "./certificates/degree.jpg", largeUrl: "./certificates/degree.jpg", alt: "MS UNB Degree Certificate" },
        { name: "Degree Translated", thumbnailUrl: "./certificates/degree-eng.jpg", largeUrl: "./certificates/degree-eng.jpg", alt: "MS UNB Degree Certificate - English Translation" },
        { name: "Transcript", thumbnailUrl: "./certificates/mstranscripts.png", largeUrl: "./certificates/mstranscripts.png", alt: "MS UNB Transcript" }
      ]
    };

    const BMO_MODAL_CONTENT = {
      title: "Software Developer, Full Stack - BMO Bank of Montreal",
      description: 'BrainRidge Consulting: Software Developer - Consultant (L3) & Contracted to Bank of Montreal (BMO) as Software Developer.',
      responsibilities: [
        "Developing responsive and dynamic frontend applications with a focus on UI/UX, utilizing Angular and reactive programming with RxJS. ",
        "Building and maintaining scalable backend services with NestJS to support robust, high-performance web applications.",
      ]
    };


    const JOURNEY_DATA = [
      {
        id: "jntua",
        title: "Bachelor's in Computer Science and Systems Engineering",
        institution: "JNTU Anantapur - India",
        date: "May 2020",
        logoUrl: "https://www.jntua.ac.in/static/media/jntua-logo.0eb8cbed.png",
        institutionUrl: "https://www.jntua.ac.in/",
        modalContent: JNTUA_MODAL_CONTENT
      },
      {
        id: "medhassu",
        title: "Full Stack Developer - Intern",
        institution: "Medhassu eSolutions",
        date: "December 2019 - April 2020",
        logoUrl: "./medhassu.png",
        institutionUrl: "http://www.medhassu.in/",
        modalContent: MEDHASSU_MODAL_CONTENT
      },
      {
        id: "chegg",
        title: "Online Tutor â€“ Computer Science",
        institution: "Chegg India",
        date: "November 2019 - November 2022",
        logoUrl: "./chegg_logo.svg",
        institutionUrl: "https://www.cheggindia.com/",
        modalContent: CHEGG_MODAL_CONTENT
      },
      {
        id: "infosys",
        title: "Digital Specialist Engineer",
        institution: "Infosys",
        date: "September 2020 - August 2023",
        details: "Also held roles: Systems Engineer Specialist, Systems Engineer Specialist - Trainee",
        logoUrl: "./logo.svg",
        institutionUrl: "https://www.infosys.com",
        modalContent: INFOSYS_MODAL_CONTENT
      },
      {
        id: "unb",
        title: "Master's in Computer Science",
        institution: "University of New Brunswick - Fredericton",
        date: "May 2025",
        cgpa: "CGPA: 4.1 (95.4%) (Top 5%)",
        logoUrl: "./unb_logo.png",
        institutionUrl: "https://www.unb.ca",
        modalContent: UNB_MODAL_CONTENT
      },
      {
        id: "bmo",
        title: "Full Stack Developer",
        institution: "BMO Bank of Montreal",
        date: "July 2025 - Present",
        logoUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/03/BMO_Logo.svg/375px-BMO_Logo.svg.png",
        institutionUrl: "https://www.bmo.com",
        modalContent: BMO_MODAL_CONTENT
      }
    ];

    const SKILLS_DATA = [
      { name: "Python", iconUrl: "https://www.python.org/static/img/python-logo.png" },
      { name: "Java", iconUrl: "./java-original.svg" },
      { name: "JavaScript", iconUrl: "https://img.icons8.com/?size=100&id=108784&format=png&color=000000" },
      { name: "TypeScript", iconUrl: "https://img.icons8.com/?size=100&id=uJM6fQYqDaZK&format=png&color=000000" },
      { name: "C#", iconUrl: "https://img.icons8.com/?size=100&id=55251&format=png&color=000000" },
      { name: "Angular", iconUrl: "./Angular.png" },
      { name: "HTML5", iconUrl: "https://img.icons8.com/?size=100&id=20909&format=png&color=000000" },
      { name: "CSS3", iconUrl: "https://img.icons8.com/?size=100&id=21278&format=png&color=000000" },
      { name: "Node.js", iconUrl: "https://nodejs.org/static/logos/nodejsStackedDark.svg" },
      { name: ".NET", iconUrl: "https://img.icons8.com/?size=100&id=1BC75jFEBED6&format=png&color=000000" },
      { name: "Flask", iconUrl: "https://flask.palletsprojects.com/en/stable/_images/flask-horizontal.png" },
      { name: "Django", iconUrl: "https://static.djangoproject.com/img/logos/django-logo-negative.png" },
      { name: "PostgreSQL", iconUrl: "https://www.postgresql.org/media/img/about/press/elephant.png" },
      { name: "MySQL", iconUrl: "https://www.mysql.com/common/logos/logo-mysql-170x115.png" },
      { name: "MongoDB", iconUrl: "https://webimages.mongodb.com/_com_assets/cms/kuyjf3vea2hg34taa-horizontal_default_slate_blue.svg?auto=format%252Ccompress" },
      { name: "Machine Learning", iconUrl: "./machine-learning.png" },
      { name: "Data Analytics", iconUrl: "https://img.icons8.com/?size=100&id=YpTLIHoEkqTC&format=png&color=000000" },
      { name: "Scikit-learn", iconUrl: "https://scikit-learn.org/stable/_static/scikit-learn-logo-small.png" },
      { name: "Microsoft Azure", iconUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Microsoft_Azure.svg/225px-Microsoft_Azure.svg.png" },
      { name: "AWS", iconUrl: "https://img.icons8.com/?size=100&id=33039&format=png&color=000000" },
      { name: "Docker", iconUrl: "https://img.icons8.com/?size=100&id=22813&format=png&color=000000" },
      { name: "Git", iconUrl: "https://img.icons8.com/?size=100&id=20906&format=png&color=000000" },
      { name: "Postman", iconUrl: "https://voyager.postman.com/logo/postman-logo-icon-orange.svg" },
    ];

    const CERTIFICATES_DATA = [
      { id: "cert1", title: "Azure Fundamentals Certification", imageUrl: "./certificates/cert1.jpg" },
      { id: "cert2", title: "Harvard Business Review - Customer Focus", imageUrl: "./certificates/cert2.jpg" },
      { id: "cert3", title: "Elements of AI", imageUrl: "./certificates/cert3.png" },
      { id: "cert4", title: "Infosys Certified Software Programmer", imageUrl: "./certificates/cert4.jpg" },
      { id: "cert5", title: "IBM Quantum Consultations Badge", imageUrl: "./certificates/cert5.jpg" },
      { id: "cert13", title: "DeepLearning.AI - AI For Everyone", imageUrl: "./certificates/cert13.jpg" },
      { id: "cert6", title: "Jira Atlassian Fundamentals Badge", imageUrl: "./certificates/cert6.jpg" },
      { id: "cert7", title: "Azure AI Fundamentals Certification", imageUrl: "./certificates/cert7.jpg" },
      { id: "cert8", title: "Edx DAT208x: Introduction to Python for Data Science", imageUrl: "./certificates/cert8.jpg" },
      { id: "cert9", title: "Google's The Fundamentals of Digital Marketing", imageUrl: "./certificates/cert9.jpg" },
      { id: "cert10", title: "Harvard ManageMentor: Innovation and Creativity", imageUrl: "./certificates/cert10.jfif" },
      { id: "cert11", title: "AWS - Data Analytics on AWS", imageUrl: "./certificates/cert11.jpg" },
      { id: "cert12", title: "AWS - Machine Learning on AWS", imageUrl: "./certificates/cert12.jpg" },
    ];

    const PROJECTS_DATA = [
      {
        id: "proj1",
        title: "Recognizing Emotions in Poems using BERT",
        description: "Fine-tuned BERT on a Kaggle Poem Dataset to classify emotions in poems, achieving better accuracy than traditional models, with challenges in figurative language.",
        tags: ["NLP", "BERT", "Python"],
        iconClass: "fas fa-brain",
        repoUrl: "https://github.com/CodeWithRohith/Recognizing-Emotions-in-Poems-using-BERT",
        liveDemoUrl: "https://codewithrohith.github.io/poem"
      },
      {
        id: "proj2",
        title: "Task Management System using .NET and SQL Server",
        description: "Developed a web-based task management system with authentication, task tracking, and performance optimization using ASP.NET Core and SQL Server.",
        tags: [".NET", "SQL Server", "C#"],
        iconClass: "fas fa-tasks"
      },
      {
        id: "proj3",
        title: "Machine Learning-Based Mobile Adware Detection",
        description: "Built a mobile adware detection system using XGBoost and Random Forest algorithms, integrated into a Flask-based API for enhanced mobile security.",
        tags: ["Machine Learning", "Flask", "XGBoost"],
        iconClass: "fas fa-shield-alt",
        repoUrl: "https://github.com/CodeWithRohith/Classification-of-Mobile-Adware-Variants-Using-Machine-Learning-Techniques"
      },
      {
        id: "proj4",
        title: "Secure File Sharing System",
        description: "Created a secure file-sharing platform with AES encryption and JWT for authentication and data confidentiality, using Flask and SQLite.",
        tags: ["Security", "Flask", "AES"],
        iconClass: "fas fa-lock"
      }
    ];

    const BLOG_POSTS_DATA = [
      {
        id: "blog1",
        title: "Recognizing Emotions in Poetry Using BERT",
        description: "Exploring how NLP can analyze poetic expressions with BERT.",
        imageUrl: "https://miro.medium.com/v2/resize:fit:1100/format:webp/1*5pBrwD77n47O9eelMdBW0w.jpeg",
        url: "https://rohithkumars.medium.com/recognizing-emotions-in-poetry-using-bert-challenges-and-findings-in-nlp-for-literary-texts-ae80739bcddb"
      },
      {
        id: "blog2",
        title: "Classification of Mobile Adware Variants Using Machine Learning",
        description: "This project leverages machine learning models to classify mobile adware variants using the CIC-AndMal2017 dataset.",
        imageUrl: "https://miro.medium.com/v2/resize:fit:1100/format:webp/1*m8yVT_cpoinxKm5OHpEwNg.jpeg",
        url: "https://rohithkumars.medium.com/classification-of-mobile-adware-variants-using-machine-learning-techniques-dd2943e1e55d"
      },
      {
        id: "blog3",
        title: "How to Install and Set Up SQL Server Express and SSMS",
        description: "SQL Server Express is a free, feature-limited edition of Microsoft's SQL Server, perfect for small applications and development.",
        imageUrl: "https://miro.medium.com/v2/resize:fit:4800/format:webp/1*rp34wAmSc5ZSXSau5xmZGQ.jpeg",
        url: "https://medium.com/@rohithkumars/how-to-install-and-set-up-sql-server-express-and-ssms-558020b2c622"
      },
      {
        id: "blog4",
        title: "How to Upload Large Files to GitHub Using Git LFS",
        description: "A guide on using Git LFS for large file management in GitHub repositories.",
        imageUrl: "https://miro.medium.com/v2/resize:fit:1100/format:webp/1*bpc1-siubN13aFPUIymzxA.png",
        url: "https://rohithkumars.medium.com/how-to-upload-large-files-to-github-using-git-lfs-11fd7f00f5d4"
      }
    ];

    const EXTRA_CURRICULAR_DATA = [
      {
        id: "activity1",
        title: "Atlantic Superstore",
        organization: "Loblaw Companies Limited",
        date: "Sep 2023 â€“ Present",
        description: "Food Service Associate: Assisted customers at checkout, prepared fast food items while managing online and onsite orders, ensuring quality and customer satisfaction. Conducted food inspections for safety compliance and handle discount planning and inventory management, sharpening my organizational and data-driven skills.",
        logoUrl: "https://upload.wikimedia.org/wikipedia/en/thumb/4/47/Real_Atlantic_Superstore_2024_Logo.svg/500px-Real_Atlantic_Superstore_2024_Logo.svg.png",
        websiteUrl: "https://www.atlanticsuperstore.ca/en"
      },
      {
        id: "activity2",
        title: "Compass Group",
        date: "Oct 2023 â€“ Present",
        description: "Kitchen Associate: Supported daily operations at the dining hall, including food preparation, serving, and maintaining hygiene standards. Gained experience as an assistant chef, pastry chef, and bartender, demonstrating versatility and teamwork. Leading event teams, I ensured smooth kitchen operations while maintaining cleanliness and food safety in fast-paced environments.",
        logoUrl: "https://www.compass-group.com/etc/designs/compass-group/corporate/images/logo.svg",
        websiteUrl: "https://www.compass-canada.com/"
      },
      {
        id: "activity3",
        title: "UNB Summer Hotel",
        date: "May 2024 â€“ Aug 2024",
        description: "Guest Services Representative: Provided front-desk assistance to hotel guests, handled reservations, and ensured smooth check-in/check-out experiences. Maintained excellent customer service while addressing inquiries and resolving guest concerns.",
        logoUrl: "https://www.unb.ca/webcomps/_css/unb_logo.png",
        websiteUrl: "https://www.unb.ca/fredericton/conference-services/stay/index.html"
      },
      {
        id: "activity4",
        title: "Indian Society for Technical Education (ISTE)",
        date: "Aug 2017 - Apr 2020",
        description: "Student Member: Contributed to various technical education initiatives aimed at enhancing student learning and engagement. Actively participated in workshops and events that promoted collaboration among engineering students and industry professionals.",
        logoUrl: "https://www.isteonline.in/icons/logo.png",
        websiteUrl: "https://www.isteonline.in/"
      },
      {
        id: "activity5",
        title: "National Service Scheme (NSS)",
        date: "May 2018 - Jul 2019",
        description: "Participant/Member: Engaged in social service activities, including participating in plantation programs to promote environmental awareness and community service, fostering social responsibility and teamwork.",
        logoUrl: "https://nss.gov.in/sites/all/themes/youthaffair/logo.png",
        websiteUrl: "https://nss.gov.in/"
      },
      {
        id: "activity6",
        title: "Mohana Mantra",
        date: "2016 - 2020",
        description: "Volunteered in organizing various events at Mohana Mantra, the university's annual fest that featured sports tournaments, technical workshops, lab sessions, and cultural events such as DJ nights. Also participated in multiple competitions and activities.",
        iconClass: "fas fa-music",
        websiteUrl: "https://mohanamantra.com/"
      },
      {
        id: "activity7",
        title: "Nature Photography",
        date: "Ongoing",
        description: "Passionate about nature photography, I capture the beauty of nature and share my work through a dedicated website.",
        iconClass: "fas fa-camera",
        buttonText: "Visit My Photography Website",
        buttonUrl: "https://rohithkumarsaravanan.github.io/photography/index.html"
      },
      {
        id: "activity8",
        title: "Cooking Enthusiast",
        date: "Ongoing",
        description: "With a deep passion for cooking, I love experimenting with recipes and exploring diverse cuisines. My culinary journey is all about blending flavors, creativity, and joy in every dish.",
        iconClass: "fas fa-utensils",
        buttonText: "Discover My Recipes",
        buttonUrl: "./food.html"
      }
    ];

    const CONTACT_INFO_DATA = {
      email: "rohithk.saravanan@gmail.com",
      linkedin: "https://www.linkedin.com/in/srohithkumar/",
      github: "https://github.com/CodeWithRohith",
      medium: "https://rohithkumars.medium.com/"
    };

    const FOOTER_SOCIAL_LINKS = PROFILE_DATA.socialLinks;

    // --- HOOKS ---
    const { useState, useEffect, useCallback, memo } = React;

    const useDarkMode = () => {
      const [isDarkMode, setIsDarkModeState] = useState(false);

      useEffect(() => {
        const prefersDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const savedMode = localStorage.getItem('darkMode');

        if (savedMode === 'enabled') {
          setIsDarkModeState(true);
        } else if (savedMode === 'disabled') {
          setIsDarkModeState(false);
        } else {
          setIsDarkModeState(prefersDarkMode);
        }
      }, []);

      useEffect(() => {
        if (isDarkMode) {
          document.documentElement.classList.add('dark');
          localStorage.setItem('darkMode', 'enabled');
        } else {
          document.documentElement.classList.remove('dark');
          localStorage.setItem('darkMode', 'disabled');
        }
      }, [isDarkMode]);

      const toggleDarkMode = useCallback(() => {
        setIsDarkModeState(prevMode => !prevMode);
      }, []);

      return { isDarkMode, toggleDarkMode };
    };

    const useScrollToTop = (threshold = 300) => {
      const [showScrollButton, setShowScrollButton] = useState(false);

      const handleScroll = useCallback(() => {
        if (window.pageYOffset > threshold) {
          setShowScrollButton(true);
        } else {
          setShowScrollButton(false);
        }
      }, [threshold]);

      useEffect(() => {
        window.addEventListener('scroll', handleScroll);
        return () => {
          window.removeEventListener('scroll', handleScroll);
        };
      }, [handleScroll]);

      return { showScrollButton };
    };

    const useLoading = (delay = 1500) => {
      const [isLoading, setIsLoadingState] = useState(true);

      useEffect(() => {
        const timer = setTimeout(() => {
          setIsLoadingState(false);
        }, delay);

        return () => clearTimeout(timer);
      }, [delay]);

      return { isLoading };
    };

    // --- UI COMPONENTS ---
    const Tooltip = ({ children, text, position = 'bottom' }) => {
      const positionClasses = {
        top: 'bottom-full left-1/2 -translate-x-1/2 mb-2',
        bottom: 'top-full left-1/2 -translate-x-1/2 mt-2',
        left: 'right-full top-1/2 -translate-y-1/2 mr-2',
        right: 'left-full top-1/2 -translate-y-1/2 ml-2',
      };

      return (
        <div className="relative group inline-block">
          {children}
          <span
            className={`absolute ${positionClasses[position]} 
                         invisible group-hover:visible opacity-0 group-hover:opacity-100 
                         bg-gray-800 dark:bg-gray-700 text-white text-xs rounded-md px-2 py-1 
                         whitespace-nowrap shadow-lg transition-all duration-200 ease-in-out z-50
                         pointer-events-none`}
          >
            {text}
          </span>
        </div>
      );
    };

    const Button = ({
      children,
      variant = 'primary',
      size = 'md',
      href,
      download,
      className = '',
      leftIcon,
      rightIcon,
      target,
      rel,
      ...props
    }) => {
      const baseStyles = "inline-flex items-center justify-center font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-dark-bg transition-all duration-300 ease-out transform hover:-translate-y-0.5";

      const sizeStyles = {
        sm: "px-3 py-1.5 text-sm",
        md: "px-4 sm:px-5 py-2 sm:py-2.5 text-sm sm:text-base", // Adjusted for mobile
        lg: "px-5 sm:px-6 py-2.5 sm:py-3 text-base sm:text-lg"  // Adjusted for mobile
      };

      const variantStyles = {
        primary: "bg-primary text-white hover:bg-blue-600 dark:hover:bg-blue-400 focus:ring-primary shadow-md hover:shadow-lg",
        outline: "border-2 border-primary text-primary hover:bg-primary hover:text-white focus:ring-primary bg-transparent dark:border-primary dark:text-primary dark:hover:bg-primary dark:hover:text-white",
        ghost: "text-primary hover:bg-primary/10 focus:ring-primary bg-transparent dark:text-primary dark:hover:bg-primary/20",
      };

      const combinedClassName = `${baseStyles} ${sizeStyles[size]} ${variantStyles[variant]} ${className}`;

      if (href) {
        const finalTarget = target !== undefined
          ? target
          : (href.startsWith('#') || download ? undefined : "_blank");

        let finalRel = rel;
        if (finalRel === undefined && finalTarget === "_blank") {
          finalRel = "noopener noreferrer";
        }

        return (
          <a
            href={href}
            className={combinedClassName}
            {...(download && { download })}
            target={finalTarget}
            rel={finalRel}
            onClick={props.onClick}
          >
            {leftIcon && <span className="mr-1 sm:mr-2">{leftIcon}</span>}
            {children}
            {rightIcon && <span className="ml-1 sm:ml-2">{rightIcon}</span>}
          </a>
        );
      }

      return (
        <button
          className={combinedClassName}
          {...props}
        >
          {leftIcon && <span className="mr-1 sm:mr-2">{leftIcon}</span>}
          {children}
          {rightIcon && <span className="ml-1 sm:ml-2">{rightIcon}</span>}
        </button>
      );
    };

    const Card = ({ children, className = '', hoverEffect = true, onClick }) => {
      const baseClasses = "bg-white/90 dark:bg-dark-card/90 backdrop-blur-sm border border-gray-100 dark:border-gray-700 rounded-xl shadow-lg dark:shadow-2xl overflow-hidden transition-all duration-300 ease-out";
      const hoverClasses = hoverEffect ? "hover:shadow-xl dark:hover:shadow-[0_0_30px_rgba(59,130,246,0.2)] hover:-translate-y-1" : "";
      const clickableClasses = onClick ? "cursor-pointer" : "";

      return (
        <div
          className={`${baseClasses} ${hoverClasses} ${clickableClasses} ${className}`}
          onClick={onClick}
        >
          {children}
        </div>
      );
    };

    const Modal = ({ isOpen, onClose, title, children, size = 'xl' }) => {
      useEffect(() => {
        const handleEsc = (event) => {
          if (event.key === 'Escape') {
            onClose();
          }
        };
        if (isOpen) {
          document.body.style.overflow = 'hidden';
          window.addEventListener('keydown', handleEsc);
        } else {
          document.body.style.overflow = 'auto';
        }
        return () => {
          document.body.style.overflow = 'auto';
          window.removeEventListener('keydown', handleEsc);
        };
      }, [isOpen, onClose]);

      if (!isOpen) return null;

      const modalSizeClasses = {
        sm: 'max-w-sm', md: 'max-w-md', lg: 'max-w-lg', xl: 'max-w-2xl',
        '2xl': 'max-w-4xl', '3xl': 'max-w-6xl', full: 'max-w-full mx-2 sm:mx-4' // Adjusted for mobile padding
      };
      const currentSizeClass = modalSizeClasses[size] || modalSizeClasses.xl;

      return (
        <div
          className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-2 sm:p-4 transition-opacity duration-300 ease-in-out"
          onClick={onClose}
        >
          <div
            className={`bg-white dark:bg-dark-card rounded-lg shadow-xl w-full ${currentSizeClass} max-h-[90vh] sm:max-h-[90vh] flex flex-col transform transition-all duration-300 ease-in-out scale-95 animate-fade-in group-hover:scale-100`}
            onClick={(e) => e.stopPropagation()}
          >
            {(title || onClose) && (
              <div className="flex justify-between items-center p-3 sm:p-4 md:p-6 border-b border-gray-200 dark:border-gray-700">
                {title && <h3 className="text-lg sm:text-xl font-semibold text-gray-900 dark:text-white">{title}</h3>}
                <button
                  onClick={onClose}
                  className="text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors"
                  aria-label="Close modal"
                >
                  <i className="fas fa-times text-xl sm:text-2xl"></i>
                </button>
              </div>
            )}
            <div className="p-3 sm:p-4 md:p-6 overflow-y-auto flex-grow">
              {children}
            </div>
            <div className="p-3 sm:p-4 md:p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end">
              <Button onClick={onClose} variant="primary" size="sm">
                Close
              </Button>
            </div>
          </div>
        </div>
      );
    };


    const LoadingSpinner = () => {
      return (
        <div className="fixed inset-0 bg-dark-bg flex flex-col justify-center items-center z-[9999]">
          <img
            src="1475.gif"
            alt="Loading..."
            className="w-48 h-48 sm:w-56 sm:h-56 object-contain"
          />
          <p className="mt-4 text-dark-text font-semibold text-lg animate-pulse">
            Loading Portfolio...
          </p>
        </div>
      );
    };

    const DarkModeToggle = ({ isDarkMode, toggleDarkMode }) => {
      return (
        <Tooltip text={isDarkMode ? "Switch to Light Mode" : "Switch to Dark Mode"}>
          <button
            onClick={toggleDarkMode}
            className="fixed top-4 right-4 z-50 w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 flex items-center justify-center shadow-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-primary"
            aria-label={isDarkMode ? "Switch to Light Mode" : "Switch to Dark Mode"}
          >
            <i className={`fas ${isDarkMode ? 'fa-sun' : 'fa-moon'} text-lg sm:text-xl`}></i>
          </button>
        </Tooltip>
      );
    };

    const BackToTopButton = ({ isVisible }) => {
      const scrollToTop = () => {
        window.scrollTo({
          top: 0,
          behavior: 'smooth',
        });
      };

      return (
        <Tooltip text="Back to Top">
          <button
            onClick={scrollToTop}
            className={`fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-50 w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary text-white flex items-center justify-center shadow-lg hover:bg-blue-600 transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-400
                          ${isVisible ? 'opacity-100 visible' : 'opacity-0 invisible'}`}
            aria-label="Back to top"
          >
            <i className="fas fa-arrow-up text-lg sm:text-xl"></i>
          </button>
        </Tooltip>
      );
    };

    const FloatingShapes = () => {
      return (
        <React.Fragment>
          <div
            className="fixed top-[10%] left-[5%] w-20 h-20 sm:w-24 sm:h-24 md:w-32 md:h-32 bg-primary rounded-[30%_70%_70%_30%_/_30%_30%_70%_70%] opacity-10 dark:opacity-20 -z-[5] animate-float"
            style={{ animationDuration: '8s' }}
          ></div>
          <div
            className="fixed bottom-[15%] right-[5%] w-28 h-28 sm:w-36 sm:h-36 md:w-48 md:h-48 bg-secondary rounded-[60%_40%_30%_70%_/_60%_30%_70%_40%] opacity-10 dark:opacity-20 -z-[5] animate-float"
            style={{ animationDuration: '10s', animationDelay: '1s' }}
          ></div>
          <div
            className="fixed top-[50%] right-[15%] w-16 h-16 sm:w-20 sm:h-20 bg-accent rounded-[50%_50%_30%_70%_/_40%_60%_70%_30%] opacity-5 dark:opacity-10 -z-[5] animate-float"
            style={{ animationDuration: '12s', animationDelay: '2s' }}
          ></div>
        </React.Fragment>
      );
    };

    // --- EFFECTS COMPONENTS ---
    const ParticleBackground = memo(({ isDarkMode }) => {
      useEffect(() => {
        if (typeof window !== 'undefined' && window.particlesJS) {
          let particlesContainer = document.getElementById('particles-js-container');
          if (particlesContainer) {
            const particleColor = isDarkMode ? "#3B82F6" : "#6366F1";
            window.particlesJS('particles-js-container', {
              "particles": {
                "number": { "value": 60, "density": { "enable": true, "value_area": 700 } },
                "color": { "value": particleColor },
                "shape": { "type": "circle" },
                "opacity": { "value": 0.25, "random": true, "anim": { "enable": true, "speed": 0.4, "opacity_min": 0.05, "sync": false } },
                "size": { "value": 2.5, "random": true },
                "line_linked": { "enable": true, "distance": 160, "color": particleColor, "opacity": 0.15, "width": 1 },
                "move": { "enable": true, "speed": 1.2, "direction": "none", "random": true, "straight": false, "out_mode": "out", "bounce": false }
              },
              "interactivity": {
                "detect_on": "canvas",
                "events": { "onhover": { "enable": true, "mode": "grab" }, "onclick": { "enable": false }, "resize": true },
                "modes": { "grab": { "distance": 120, "line_linked": { "opacity": 0.3 } } }
              },
              "retina_detect": true
            });
          }
        }
        return () => {
          if (window.pJSDom && window.pJSDom.length > 0 && window.pJSDom[0].pJS) {
            const pJSContainer = document.getElementById('particles-js-container');
            if (pJSContainer) {
              pJSContainer.innerHTML = '';
            }
            window.pJSDom = [];
          }
        };
      }, [isDarkMode]);
      return null;
    });


    // --- LAYOUT COMPONENTS ---
    const Header = ({ profileData, onContactClick, isHeroActive }) => {
      const headerClasses = `
          rounded-xl overflow-hidden relative 
          ${isHeroActive
          ? 'bg-[#171717] dark:bg-[#F5F5F5] text-white dark:text-gray-800 border-none'
          : 'bg-[#171717]/90 dark:bg-[#F5F5F5]/90 backdrop-blur-md border border-white/10 dark:border-black/5 text-white dark:text-gray-800'}
          shadow-2xl transition-all duration-1000 ease-in-out
          p-px group
          ${isHeroActive ? 'h-full flex' : 'mb-12 lg:mb-16 animate-slide-in-down'}
        `;

      const contentContainerClasses = `
          relative rounded-xl flex items-center w-full z-10
          transition-all duration-1000 ease-in-out
          ${isHeroActive
          ? 'p-6 sm:p-8 flex-col justify-center'
          : 'p-6 sm:p-8 md:p-10 lg:p-12 flex-col md:flex-row'
        }
        `;

      const imageContainerClasses = `
          flex justify-center transform transition-all duration-1000 ease-out group-hover:scale-105
          ${isHeroActive ? 'mb-6' : 'md:w-1/3 md:mb-0'}
        `;

      const textContainerClasses = `
          text-center transition-all duration-1000 ease-in-out
          ${isHeroActive ? '' : 'md:w-2/3 md:text-left md:pl-8 lg:pl-12'}
        `;

      return (
        <header
          className={headerClasses}
          style={{ transformStyle: 'preserve-3d' }}
        >
          {!isHeroActive && (
            <div className="absolute -inset-0.5 bg-gradient-to-r from-primary via-secondary to-accent rounded-xl blur opacity-0 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-pulse"></div>
          )}
          <div className={contentContainerClasses}>
            <div className={imageContainerClasses}>
              <img
                src={profileData.profilePicUrl}
                alt={profileData.name}
                className="w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full object-cover border-4 border-opacity-20 border-white dark:border-gray-800 shadow-xl hover:shadow-2xl transition-all duration-300 ease-out transform hover:scale-105"
              />
            </div>
            <div className={textContainerClasses}>
              <h1 className="text-3xl sm:text-4xl md:text-5xl font-bold mb-2 lg:mb-3 text-gradient animate-gradient-x">
                {profileData.name}
              </h1>
              <p className="text-lg sm:text-xl md:text-2xl mb-6 lg:mb-8 text-gray-300 dark:text-gray-600 font-roboto">
                {profileData.title}
              </p>
              <div className={`flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4 mb-6 lg:mb-8 ${isHeroActive ? 'justify-center' : 'justify-center md:justify-start'}`}>
                <Button
                  href={profileData.resumeUrl}
                  download
                  variant="primary"
                  className="shadow-lg hover:shadow-primary/50 w-full sm:w-auto"
                  size="lg"
                >
                  <i className="fas fa-download mr-2"></i>
                  Download Resume
                </Button>
                <Button
                  onClick={onContactClick}
                  variant="outline"
                  className="text-white dark:text-gray-800 border-white dark:border-gray-800 hover:bg-black hover:text-black dark:hover:bg-white dark:hover:text-white shadow-md hover:shadow-black/30 w-full sm:w-auto"
                  size="lg"
                >
                  <i className="fas fa-paper-plane mr-2"></i>
                  Contact Me
                </Button>
              </div>
              <div className={`flex space-x-3 sm:space-x-4 ${isHeroActive ? 'justify-center' : 'justify-center md:justify-start'}`}>
                {profileData.socialLinks.map(link => (
                  <Tooltip key={link.name} text={link.name}>
                    <a
                      href={link.url}
                      target="_blank"
                      rel="noopener noreferrer"
                      aria-label={link.name}
                      className="text-gray-300 dark:text-gray-600 hover:text-white dark:hover:text-gray-800 w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 dark:bg-black/10 dark:hover:bg-black/20 transition-all duration-300 transform hover:scale-110"
                    >
                      <i className={`${link.iconClass} text-xl sm:text-2xl`}></i>
                    </a>
                  </Tooltip>
                ))}
              </div>
            </div>
          </div>
          {isHeroActive && (
            <div className="absolute bottom-6 left-1/2 -translate-x-1/2 text-white dark:text-gray-800 z-20 flex flex-col items-center animate-bounce-slow">

            </div>
          )}
        </header>
      );
    };

    const Footer = ({ socialLinks, name }) => {
      const currentYear = new Date().getFullYear();
      return (
        <footer className="text-center py-8 text-gray-600 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 mt-16">
          <p className="mb-4 text-sm sm:text-base">&copy; {currentYear} {name}. All rights reserved.</p>
          <div className="flex justify-center space-x-4 sm:space-x-6">
            {socialLinks.map(link => (
              <a
                key={link.name}
                href={link.url}
                target="_blank"
                rel="noopener noreferrer"
                aria-label={link.name}
                className="text-gray-500 hover:text-primary dark:hover:text-primary transition-colors duration-300"
              >
                <i className={`${link.iconClass} text-xl sm:text-2xl`}></i>
              </a>
            ))}
          </div>
        </footer>
      );
    };

    const SectionWrapper = ({ id, title, iconClass, children, className = '', style, hasBox = true }) => {
      const titleElement = (
        <h2 className="text-2xl sm:text-3xl md:text-4xl font-bold mb-6 sm:mb-8 flex items-center text-gray-800 dark:text-gray-100">
          <i className={`${iconClass} mr-2 sm:mr-3 text-primary`}></i>
          {title}
        </h2>
      );

      return (
        <section
          id={id}
          className={`mb-12 sm:mb-16 animate-fade-in-up ${className}`}
          style={style}
        >
          {hasBox ? (
            <div className="bg-white/80 dark:bg-dark-card/80 backdrop-blur-md shadow-xl dark:shadow-2xl rounded-xl p-4 sm:p-6 md:p-8 lg:p-10 transition-all duration-300 hover:shadow-2xl dark:hover:shadow-[0_0_30px_rgba(59,130,246,0.3)] border border-white/20 dark:border-gray-700">
              {titleElement}
              {children}
            </div>
          ) : (
            <>
              <div className="container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl">
                {titleElement}
              </div>
              {children}
            </>
          )}
        </section>
      );
    };

    // --- SECTION COMPONENTS ---
    const AboutSection = ({ data }) => {
      return (
        <div className="prose sm:prose-lg md:prose-xl dark:prose-invert max-w-none text-gray-700 dark:text-gray-300">
          {data.descriptionParagraphs.map((paragraph, index) => (
            <p
              key={index}
              className="leading-relaxed"
              dangerouslySetInnerHTML={{ __html: paragraph }}
            />
          ))}
        </div>
      );
    };

    const JourneyItem = ({ item, openModal, position = 'top' }) => {
      return (
        <div className={`relative flex flex-col items-center ${position === 'top' ? 'pb-24' : 'pt-24'}`}>
          {/* Content box */}
          <div className={`w-64 ${position === 'top' ? 'mb-8' : 'mt-8'}`}>
            <div className="p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg shadow-md hover:shadow-lg transition-all duration-300">
              <div className="flex flex-col items-center gap-3">
                {item.logoUrl && (
                  <a href={item.institutionUrl} target="_blank" rel="noopener noreferrer" className="flex-shrink-0">
                    <img
                      src={item.logoUrl}
                      alt={`${item.institution || item.title} Logo`}
                      className="w-16 h-16 object-contain rounded-md bg-white p-1 shadow-sm"
                    />
                  </a>
                )}
                <div className="text-center">
                  <h3 className="text-md font-semibold text-gray-800 dark:text-gray-100">{item.title}</h3>
                  {item.institution &&
                    <p className="text-sm text-gray-600 dark:text-gray-400">{item.institution}</p>
                  }
                  <p className="text-xs text-gray-500 dark:text-gray-500 mt-1">{item.date}</p>
                  {item.cgpa &&
                    <p className="text-xs text-gray-500 dark:text-gray-500">{item.cgpa}</p>
                  }
                </div>
              </div>
              {item.modalContent && (
                <Button
                  onClick={() => openModal(item.modalContent)}
                  variant="ghost"
                  size="sm"
                  className="mt-3 text-primary hover:underline flex items-center justify-center group w-full"
                >
                  View Details
                  <i className="fas fa-chevron-right ml-1 text-xs transform transition-transform duration-200 group-hover:translate-x-1"></i>
                </Button>
              )}
            </div>
          </div>

          {/* Vertical connector line */}
          <div className="w-0.5 h-8 bg-primary"></div>

          {/* Timeline dot */}
          <div className="w-4 h-4 rounded-full bg-primary border-4 border-white dark:border-dark-card shadow-md z-10"></div>
        </div>
      );
    };

    const JourneySection = ({ data, openModal }) => {
      // Reverse the data array to show items in reverse chronological order
      const reversedData = [...data].reverse();

      return (
        <div className="relative w-full max-w-4xl mx-auto px-4 sm:px-0">
          {/* Vertical timeline line */}
          <div className="absolute left-8 sm:left-1/2 w-0.5 h-full bg-primary/30 dark:bg-primary/30 transform -translate-x-1/2 rounded-full"></div>

          <div className="relative flex flex-col gap-8 sm:gap-12">
            {reversedData.map((item, index) => (
              <div key={item.id} className="relative flex items-center w-full">
                {/* Dot on the timeline */}
                <div className="absolute left-8 sm:left-1/2 w-4 h-4 bg-light dark:bg-dark-bg border-4 border-primary rounded-full transform -translate-x-1/2 z-10 shadow-[0_0_0_4px_rgba(59,130,246,0.2)]"></div>

                {/* Content Card - Increased padding/spacing from timeline */}
                <div className={`w-full pl-16 sm:w-1/2 p-0 sm:p-4 transition-all duration-300
                    ${index % 2 === 0
                    ? 'sm:ml-auto sm:pl-16 lg:pl-24'
                    : 'sm:mr-auto sm:pr-16 lg:pr-24 sm:text-right'
                  }`}>
                  <div className={`bg-white/90 dark:bg-dark-card/90 backdrop-blur-sm p-5 rounded-xl shadow-md hover:shadow-xl border border-gray-100 dark:border-gray-700 transition-all duration-300 hover:-translate-y-1
                                     flex flex-col gap-3 ${index % 2 === 0 ? 'items-start' : 'items-start sm:items-end'}`}>
                    <div className={`flex gap-4 ${index % 2 === 0 ? 'flex-row' : 'flex-row-reverse sm:text-right'}`}>
                      {item.logoUrl && (
                        <a href={item.institutionUrl} target="_blank" rel="noopener noreferrer" className="flex-shrink-0">
                          <img
                            src={item.logoUrl}
                            alt={`${item.institution || item.title} Logo`}
                            className="w-12 h-12 object-contain rounded-md bg-white p-1 shadow-sm"
                          />
                        </a>
                      )}
                      <div className="flex-grow">
                        <h3 className="text-base font-semibold text-gray-800 dark:text-gray-100 leading-tight">{item.title}</h3>
                        {item.institution &&
                          <p className="text-sm text-gray-600 dark:text-gray-400 mt-1">{item.institution}</p>
                        }
                        <p className="text-xs text-gray-500 dark:text-gray-500 mt-1">{item.date}</p>
                        {item.cgpa &&
                          <p className="text-xs text-gray-500 dark:text-gray-500">{item.cgpa}</p>
                        }
                        {item.modalContent && (
                          <Button
                            onClick={() => openModal(item.modalContent)}
                            variant="ghost"
                            size="sm"
                            className={`mt-2 text-primary hover:underline flex items-center group text-sm ${index % 2 === 0 ? 'justify-start' : 'sm:justify-end'}`}
                          >
                            View Details
                            <i className="fas fa-chevron-right ml-1 text-xs transform transition-transform duration-200 group-hover:translate-x-1"></i>
                          </Button>
                        )}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      );
    };

    const SkillCard = ({ skill }) => {
      return (
        <Card
          className="flex flex-col items-center justify-center p-3 sm:p-4 text-center h-full
                         hover:bg-white/50 dark:hover:bg-dark-card/50 group"
          hoverEffect={true}
        >
          <img
            src={skill.iconUrl}
            alt={`${skill.name} logo`}
            className="w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 object-contain mb-2 sm:mb-3 transition-transform duration-300 group-hover:scale-110"
          />
          <span className="font-medium text-xs sm:text-sm md:text-base text-gray-700 dark:text-gray-300">{skill.name}</span>
          {skill.level && (
            <div className="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 mt-2">
              <div
                className="bg-gradient-to-r from-primary to-accent h-1.5 rounded-full transition-all duration-1000 ease-out"
                style={{ width: `${skill.level}%` }}
              ></div>
            </div>
          )}
        </Card>
      );
    };

    const SkillsSection = ({ skills }) => {
      return (
        <div className="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3 sm:gap-4 md:gap-5">
          {skills.map(skill => (
            <SkillCard key={skill.name} skill={skill} />
          ))}
        </div>
      );
    };

    const CertificateCard = ({ certificate, onClick }) => {
      return (
        <div
          className="flex-shrink-0 w-56 sm:w-64 md:w-72 lg:w-80 rounded-lg overflow-hidden shadow-md hover:shadow-xl 
                       bg-white dark:bg-gray-800/50 cursor-pointer transition-all duration-300 transform hover:scale-105 group"
          onClick={onClick}
          style={{ scrollSnapAlign: 'start' }}
        >
          <img
            src={certificate.imageUrl}
            alt={certificate.title}
            className="w-full h-32 sm:h-36 md:h-40 lg:h-44 object-cover transition-transform duration-300 group-hover:scale-110"
          />
          <div className="p-3 sm:p-4">
            <p className="font-semibold text-xs sm:text-sm md:text-base text-gray-800 dark:text-gray-200 truncate group-hover:text-primary transition-colors">
              {certificate.title}
            </p>
            {certificate.issuer && (
              <p className="text-xs md:text-sm text-gray-500 dark:text-gray-400">{certificate.issuer}</p>
            )}
          </div>
        </div>
      );
    };

    const CertificatesSection = ({ data, openModal }) => {
      return (
        <div className="relative group">
          <div className="absolute left-0 top-0 bottom-0 w-12 bg-gradient-to-r from-white dark:from-dark-bg to-transparent z-10 pointer-events-none"></div>
          <div className="absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-white dark:from-dark-bg to-transparent z-10 pointer-events-none"></div>

          <div className="flex overflow-x-auto space-x-4 sm:space-x-6 pb-8 pt-2 px-4 sm:px-8 scrollbar-hide snap-x snap-mandatory"
            style={{ scrollBehavior: 'smooth' }}
          >
            {data.map(certificate => (
              <CertificateCard
                key={certificate.id}
                certificate={certificate}
                onClick={() => openModal(certificate)}
              />
            ))}
          </div>
        </div>
      );
    };

    const ProjectCard = ({ project }) => {
      return (
        <Card
          className="p-4 sm:p-6 flex flex-col h-full group"
          hoverEffect={true}
        >
          <div className="flex items-start mb-3 sm:mb-4">
            <div className="bg-primary/10 dark:bg-primary/20 p-2 sm:p-3 rounded-full mr-3 sm:mr-4">
              <i className={`${project.iconClass} text-primary text-lg sm:text-xl`}></i>
            </div>
            <h3 className="text-lg sm:text-xl font-semibold text-gray-800 dark:text-gray-100 group-hover:text-primary transition-colors">
              {project.repoUrl ? (
                <a href={project.repoUrl} target="_blank" rel="noopener noreferrer" className="hover:underline">
                  {project.title}
                </a>
              ) : project.title}
            </h3>
          </div>
          <p className="text-gray-600 dark:text-gray-400 mb-3 sm:mb-4 text-xs sm:text-sm leading-relaxed flex-grow">
            {project.description}
          </p>
          <div className="flex flex-wrap gap-1 sm:gap-2 mb-3 sm:mb-4">
            {project.tags.map(tag => (
              <span key={tag} className="px-2 py-0.5 sm:px-3 sm:py-1 bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300 text-[0.6rem] sm:text-xs font-medium rounded-full">
                {tag}
              </span>
            ))}
          </div>
          {(project.liveDemoUrl || project.repoUrl) && (
            <div className="mt-auto pt-2 flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4">
              {project.liveDemoUrl && (
                <Button href={project.liveDemoUrl} variant="outline" size="sm" target="_blank" rel="noopener noreferrer">
                  Live Demo <i className="fas fa-external-link-alt ml-1 sm:ml-2 text-xs"></i>
                </Button>
              )}
              {project.repoUrl && !project.liveDemoUrl && (
                <Button href={project.repoUrl} variant="ghost" size="sm" target="_blank" rel="noopener noreferrer">
                  View Code <i className="fab fa-github ml-1 sm:ml-2 text-xs"></i>
                </Button>
              )}
            </div>
          )}
        </Card>
      );
    };

    const ProjectsSection = ({ data }) => {
      return (
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 md:gap-8">
          {data.map(project => (
            <ProjectCard key={project.id} project={project} />
          ))}
        </div>
      );
    };

    const BlogPostCard = ({ post }) => {
      return (
        <Card className="flex flex-col h-full group overflow-hidden">
          <a href={post.url} target="_blank" rel="noopener noreferrer" className="block">
            <img
              src={post.imageUrl}
              alt={post.title}
              className="w-full h-40 sm:h-48 object-cover transition-transform duration-300 group-hover:scale-105"
            />
          </a>
          <div className="p-4 sm:p-5 flex flex-col flex-grow">
            <h3 className="text-md sm:text-lg font-semibold mb-2 text-gray-800 dark:text-gray-100 group-hover:text-primary transition-colors">
              <a href={post.url} target="_blank" rel="noopener noreferrer" className="hover:underline">
                {post.title}
              </a>
            </h3>
            <p className="text-gray-600 dark:text-gray-400 text-xs sm:text-sm mb-3 sm:mb-4 flex-grow">
              {post.description}
            </p>
            <a
              href={post.url}
              target="_blank"
              rel="noopener noreferrer"
              className="mt-auto inline-flex items-center text-primary hover:text-accent font-medium text-sm transition-colors duration-300 group"
            >
              Read More <i className="fas fa-arrow-right ml-1 sm:ml-2 transform transition-transform duration-300 group-hover:translate-x-1"></i>
            </a>
          </div>
        </Card>
      );
    };


    const BlogSection = ({ data }) => {
      return (
        <div>
          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 md:gap-8">
            {data.map(post => (
              <BlogPostCard key={post.id} post={post} />
            ))}
          </div>
          <div className="text-center mt-6 sm:mt-8">
            <Button
              href="https://rohithkumars.medium.com/"
              target="_blank"
              rel="noopener noreferrer"
              variant="primary"
              size="md"
            >
              <i className="fab fa-medium mr-2"></i> View All Blog Posts
            </Button>
          </div>
        </div>
      );
    };

    const ActivityCard = ({ activity, visitorCount }) => {
      const isRecipeCard = activity.id === 'activity8';
      const [showVisits, setShowVisits] = useState(false);


      const handleRecipeClick = (e) => {
        if (!showVisits && visitorCount !== null) {
          e.preventDefault(); // Prevent navigation on the first click
          setShowVisits(true);
        }
        // On the second click, the default 'a' tag behavior will navigate to the href.
      };

      const isSpecialButton = isRecipeCard && visitorCount !== null;

      return (
        <Card className="p-4 sm:p-5 md:p-6 hover:bg-white/50 dark:hover:bg-dark-card/50">
          <div className="flex flex-col sm:flex-row items-start gap-3 sm:gap-4">
            {(activity.logoUrl || activity.iconClass) && (
              <div className="flex-shrink-0 w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 bg-primary/10 dark:bg-primary/20 p-2 sm:p-3 rounded-lg flex items-center justify-center shadow-sm">
                {activity.logoUrl ? (
                  <a href={activity.websiteUrl} target="_blank" rel="noopener noreferrer">
                    <img src={activity.logoUrl} alt={`${activity.title} logo`} className="max-w-full max-h-full object-contain" />
                  </a>
                ) : (
                  activity.websiteUrl ?
                    <a href={activity.websiteUrl} target="_blank" rel="noopener noreferrer">
                      <i className={`${activity.iconClass} text-primary text-2xl sm:text-3xl md:text-4xl`}></i>
                    </a>
                    : <i className={`${activity.iconClass} text-primary text-2xl sm:text-3xl md:text-4xl`}></i>
                )}
              </div>
            )}
            <div className="flex-grow">
              <h3 className="text-lg sm:text-xl font-semibold text-gray-800 dark:text-gray-100">{activity.title}</h3>
              {activity.organization && (
                <p className="text-xs sm:text-sm text-gray-500 dark:text-gray-400">{activity.organization}</p>
              )}
              <p className="text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-1 sm:mb-2">{activity.date}</p>
              <p className="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">


                {activity.description}
              </p>
              {activity.buttonText && activity.buttonUrl && (
                <div className="mt-3 sm:mt-4">
                  <Button
                    href={activity.buttonUrl}
                    variant="outline"
                    size="sm"
                    onClick={isSpecialButton ? handleRecipeClick : undefined}
                    target={activity.buttonUrl.startsWith('http') || activity.buttonUrl.startsWith('https') ? '_blank' : undefined}
                    rel={activity.buttonUrl.startsWith('http') || activity.buttonUrl.startsWith('https') ? 'noopener noreferrer' : undefined}
                  >
                    {isSpecialButton && showVisits ? (
                      <>
                        <i className="fas fa-eye mr-2"></i>
                        <span>Visits: {typeof visitorCount === 'number' ? visitorCount.toLocaleString() : visitorCount}</span>
                      </>
                    ) : (
                      <>
                        {activity.iconClass && !activity.logoUrl && <i className={`${activity.iconClass} mr-2`}></i>}
                        {activity.buttonText}
                      </>
                    )}
                  </Button>
                </div>
              )}
            </div>
          </div>
        </Card>
      );
    };

    const ExtraCurricularSection = ({ data, visitorCount }) => {
      return (
        <div className="space-y-4 sm:space-y-6">
          {data.map(activity => (
            <ActivityCard key={activity.id} activity={activity} visitorCount={visitorCount} />
          ))}
        </div>
      );
    };

    const ContactItem = ({ href, iconClass, label, value }) => (
      <div className="flex items-start group">
        <div className="bg-primary/10 dark:bg-primary/20 p-2 sm:p-3 rounded-full mr-3 sm:mr-4 transition-all duration-300 group-hover:bg-primary/20 dark:group-hover:bg-primary/30">
          <i className={`${iconClass} text-primary text-md sm:text-lg`}></i>
        </div>
        <div>
          <h4 className="font-medium text-sm sm:text-base text-gray-800 dark:text-gray-100">{label}</h4>
          <p className="text-xs sm:text-sm text-gray-500 dark:text-gray-400">{value}</p>
        </div>
      </div>
    );

    const ContactSection = ({ data }) => {
      return (
        <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
          <ContactItem
            href={`mailto:${data.email}`}
            iconClass="fas fa-envelope"
            label="Email"
            value={data.email}
          />
          <ContactItem
            href={data.linkedin}
            iconClass="fab fa-linkedin"
            label="LinkedIn"
            value={data.linkedin}
          />
          <ContactItem
            href={data.github}
            iconClass="fab fa-github"
            label="GitHub"
            value={data.github}
          />
          <ContactItem
            href={data.medium}
            iconClass="fab fa-medium"
            label="Medium"
            value={data.medium}
          />
        </div>
      );
    };

    const NavBar = ({ sections }) => {
      const [activeSection, setActiveSection] = useState('');
      const [isMenuOpen, setIsMenuOpen] = useState(false);
      const [scrolled, setScrolled] = useState(false);
      const [isVisible, setIsVisible] = useState(false);

      useEffect(() => {
        const handleScroll = () => {
          const currentScrollY = window.scrollY;

          // Show navbar when user scrolls down from top
          setIsVisible(currentScrollY > 100);
          setScrolled(currentScrollY > 50);

          // Spy on scroll to update active section
          const scrollPosition = currentScrollY + 200;

          for (const section of sections) {
            const element = document.getElementById(section.id);
            if (element) {
              const offsetTop = element.offsetTop;
              const offsetBottom = offsetTop + element.offsetHeight;

              if (scrollPosition >= offsetTop && scrollPosition < offsetBottom) {
                setActiveSection(section.id);
                break;
              }
            }
          }
        };

        window.addEventListener('scroll', handleScroll);
        return () => window.removeEventListener('scroll', handleScroll);
      }, [sections]);

      const toggleMenu = () => setIsMenuOpen(!isMenuOpen);

      const navClasses = `
        fixed top-0 left-0 right-0 z-40 transition-all duration-300
        ${scrolled ? 'py-2 bg-white/80 dark:bg-dark-bg/90 backdrop-blur-md shadow-md' : 'py-4 bg-transparent'}
        ${isVisible ? 'translate-y-0 opacity-100' : '-translate-y-full opacity-0'}
      `;

      return (
        <nav className={navClasses}>
          <div className="container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl flex justify-between items-center">
            <a href="#" className="text-xl font-bold text-gradient font-poppins" onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}>
              RS
            </a>

            {/* Desktop Menu */}
            <div className="hidden md:flex space-x-1 lg:space-x-2">
              {sections.map(section => (
                <a
                  key={section.id}
                  href={`#${section.id}`}
                  className={`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300
                    ${activeSection === section.id
                      ? 'text-primary bg-primary/10 dark:bg-primary/20'
                      : 'text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-800'
                    }`}
                >
                  {section.title}
                </a>
              ))}
            </div>

            {/* Mobile Menu Button */}
            <button
              className="md:hidden text-gray-600 dark:text-gray-300 focus:outline-none"
              onClick={toggleMenu}
            >
              <i className={`fas ${isMenuOpen ? 'fa-times' : 'fa-bars'} text-2xl`}></i>
            </button>
          </div>

          {/* Mobile Menu Dropdown */}
          <div className={`md:hidden absolute top-full left-0 right-0 bg-white dark:bg-dark-card shadow-lg transition-all duration-300 overflow-hidden ${isMenuOpen ? 'max-h-screen opacity-100' : 'max-h-0 opacity-0'}`}>
            <div className="flex flex-col p-4 space-y-2">
              {sections.map(section => (
                <a
                  key={section.id}
                  href={`#${section.id}`}
                  className={`px-4 py-3 rounded-lg text-base font-medium transition-all duration-300 block
                    ${activeSection === section.id
                      ? 'text-primary bg-primary/10 dark:bg-primary/20'
                      : 'text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary hover:bg-gray-50 dark:hover:bg-gray-800'
                    }`}
                  onClick={() => setIsMenuOpen(false)}
                >
                  <i className={`${section.iconClass} mr-3 w-6 text-center`}></i>
                  {section.title}
                </a>
              ))}
            </div>
          </div>
        </nav>
      );
    };

    const App = () => {
      const { isDarkMode, toggleDarkMode } = useDarkMode();
      const { showScrollButton } = useScrollToTop();
      const [visitorCount, setVisitorCount] = useState(null);
      const [modalState, setModalState] = useState({
        isOpen: false,
        type: null,
        data: null
      });

      const { isLoading } = useLoading(2000); // Using the hook

      const openModal = (type, data) => {
        setModalState({
          isOpen: true,
          type,
          data
        });
      };

      const closeModal = () => {
        setModalState({
          isOpen: false,
          type: null,
          data: null
        });
      };

      useEffect(() => {
        if (modalState.isOpen) {
          document.body.style.overflow = 'hidden';
        } else {
          document.body.style.overflow = 'auto';
        }
      }, [modalState.isOpen]);

      useEffect(() => {
        const fetchVisitorCount = async () => {
          try {
            const response = await fetch('https://api.countapi.xyz/hit/rohithkumarsaravanan-portfolio/visits');
            const data = await response.json();
            setVisitorCount(data.value);
          } catch (error) {
            console.error("Failed to fetch visitor count:", error);
            setVisitorCount('N/A');
          }
        };
        fetchVisitorCount();
      }, [isLoading]); // Depend on isLoading

      useEffect(() => {
        const handleKeyDown = (event) => {
          if (event.key === 'Escape' && modalState.isOpen) {
            closeModal();
          }
        };

        window.addEventListener('keydown', handleKeyDown);
        return () => window.removeEventListener('keydown', handleKeyDown);
      }, [modalState.isOpen]); // This effect is fine as is

      if (isLoading) {
        return <LoadingSpinner />;
      }

      const renderModalContent = () => {
        if (!modalState.isOpen || !modalState.data) return null;

        switch (modalState.type) {
          case ModalType.EDUCATION:
            const eduData = modalState.data;
            return (
              <div id="educationModalContentContainer">
                <div className="flex items-start gap-4 mb-4 sm:mb-6">
                  {eduData.logoUrl && (
                    <div className="flex-shrink-0">
                      <img
                        src={eduData.logoUrl}
                        alt={`${eduData.institution || eduData.title} logo`}
                        className="w-16 h-16 sm:w-20 sm:h-20 object-contain rounded-lg bg-white p-2 shadow-md"
                      />
                    </div>
                  )}
                  <div className="flex-grow">
                    <h3 className="text-xl sm:text-2xl font-bold mb-1 sm:mb-2 text-gray-900 dark:text-white">{eduData.title}</h3>
                    {eduData.institution && (
                      <p className="text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-1">{eduData.institution}</p>
                    )}
                    {eduData.date && (
                      <p className="text-xs sm:text-sm text-gray-500 dark:text-gray-500">{eduData.date}</p>
                    )}
                  </div>
                </div>
                {eduData.description && <p className="mb-3 sm:mb-4 text-sm sm:text-base text-gray-700 dark:text-gray-300" dangerouslySetInnerHTML={{ __html: eduData.description }}></p>}
                {eduData.achievements && (
                  <ul className="list-disc pl-5 mt-2 mb-3 sm:mb-4 text-sm sm:text-base text-gray-700 dark:text-gray-300">
                    {eduData.achievements.map((ach, idx) => <li key={idx}>{ach}</li>)}
                  </ul>
                )}
                {eduData.responsibilities && (
                  <div className="space-y-2 sm:space-y-3 mb-3 sm:mb-4">
                    {eduData.responsibilities.map((resp, idx) => (
                      <div key={idx} className="p-2 sm:p-3 bg-gray-100 dark:bg-gray-700 rounded-md">
                        <p className="text-gray-700 dark:text-gray-300 text-xs sm:text-sm">{resp}</p>
                      </div>
                    ))}
                  </div>
                )}
                {eduData.researchLinks && eduData.researchLinks.length > 0 && (
                  <div className="mb-3 sm:mb-4">
                    <h4 className="font-semibold text-md sm:text-lg mb-1 sm:mb-2 text-gray-800 dark:text-gray-200">Research Publications:</h4>
                    <ul className="list-disc pl-5 space-y-1 text-sm sm:text-base">
                      {eduData.researchLinks.map((link, index) => (
                        <li key={index}>
                          <a href={link.url} target="_blank" rel="noopener noreferrer" className="text-primary hover:underline">
                            {link.text}
                          </a>
                        </li>
                      ))}
                    </ul>
                  </div>
                )}
                {eduData.documents && eduData.documents.length > 0 && (
                  <div className="mt-4 sm:mt-6">
                    <h4 className="font-semibold text-md sm:text-lg mb-3 text-gray-800 dark:text-gray-200">Documents:</h4>
                    <div className="flex flex-wrap justify-start items-start gap-4 sm:gap-6">
                      {eduData.documents.map((doc, index) => (
                        <div key={index} className="text-left">
                          <p className="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">{doc.name}:</p>
                          <img
                            src={doc.thumbnailUrl}
                            alt={doc.alt}
                            className="h-48 sm:h-64 w-auto border rounded-lg shadow-sm cursor-pointer transition-transform duration-200 hover:scale-105 hover:shadow-lg"
                            onClick={(e) => {
                              e.stopPropagation(); // Prevent the parent modal from closing
                              openModal(ModalType.IMAGE, { src: doc.largeUrl, alt: doc.alt });
                            }}
                          />
                        </div>
                      ))}
                    </div>
                  </div>
                )}
              </div>
            );
          case ModalType.IMAGE:
            const imgData = modalState.data;
            return (
              <div className="p-4 sm:p-6 flex flex-col items-center">
                <img
                  src={imgData.src}
                  alt={imgData.alt}
                  className="max-w-full max-h-[70vh] object-contain rounded-lg shadow-md"
                />
              </div>
            );
          case ModalType.CONTACT_SUCCESS:
            return (
              <div className="p-4 sm:p-6 text-center">
                <i className="fas fa-check-circle text-4xl text-green-500 mb-4"></i>
                <h3 className="text-xl sm:text-2xl font-bold mb-2 text-gray-900 dark:text-white">Message Sent Successfully!</h3>
                <p className="text-gray-700 dark:text-gray-300 mb-4">Thank you for reaching out. I will get back to you as soon as possible.</p>
                <Button onClick={closeModal} variant="primary" size="md">
                  Close
                </Button>
              </div>
            );
          default:
            return null;
        }
      };

      const sectionComponents = [
        { id: "about", title: "About Me", iconClass: "fas fa-user", Comp: AboutSection, props: { data: ABOUT_DATA } },
        { id: "journey", title: "My Journey", iconClass: "fas fa-road", Comp: JourneySection, props: { data: JOURNEY_DATA, openModal: (data) => openModal(ModalType.EDUCATION, data) } },
        { id: "skills", title: "Technical Skills", iconClass: "fas fa-code", Comp: SkillsSection, props: { skills: SKILLS_DATA } },
        { id: "certificates", title: "Certificates", iconClass: "fas fa-certificate", Comp: CertificatesSection, props: { data: CERTIFICATES_DATA, openModal: (cert) => openModal(ModalType.IMAGE, { src: cert.imageUrl, alt: cert.title }) } },
        { id: "projects", title: "Projects", iconClass: "fas fa-project-diagram", Comp: ProjectsSection, props: { data: PROJECTS_DATA } },
        { id: "blog", title: "My Blog Posts", iconClass: "fas fa-blog", Comp: BlogSection, props: { data: BLOG_POSTS_DATA } },
        { id: "extra-curricular", title: "Extra-Curricular Activities", iconClass: "fas fa-running", Comp: ExtraCurricularSection, props: { data: EXTRA_CURRICULAR_DATA, visitorCount: visitorCount } },
        { id: "contact", title: "Get In Touch", iconClass: "fas fa-envelope", Comp: ContactSection, props: { data: CONTACT_INFO_DATA } }
      ];

      const particleBg = <ParticleBackground key={isDarkMode ? 'dark-particles' : 'light-particles'} isDarkMode={isDarkMode} />;

      return (
        <div className={`font-poppins ${isDarkMode ? 'dark' : ''}`}>
          <NavBar sections={sectionComponents} />
          {particleBg}
          <FloatingShapes />
          <DarkModeToggle isDarkMode={isDarkMode} toggleDarkMode={toggleDarkMode} />
          <BackToTopButton isVisible={showScrollButton} />

          <div className="container mx-auto px-4 sm:px-6 lg:px-8 py-8 max-w-6xl relative z-10">
            <Header
              profileData={PROFILE_DATA}
              onContactClick={() => document.getElementById('contact')?.scrollIntoView({ behavior: 'smooth' })}
              isHeroActive={true}
            />
          </div>

          {sectionComponents.map(({ id, title, iconClass, Comp, props }, index) => {
            const isJourney = id === 'journey';
            return (
              <SectionWrapper
                key={id}
                id={id}
                title={title}
                iconClass={iconClass}
                className={`opacity-0 ${isJourney ? 'w-full' : 'container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl'} ${id === 'certificates' ? 'overflow-visible' : ''}`}
                style={{ '--animation-delay': `calc(${index} * 150ms)` }}
                hasBox={!isJourney}
              >
                <Comp {...props} />
              </SectionWrapper>
            );
          })}

          <div className="container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl relative z-10">
            <Footer socialLinks={FOOTER_SOCIAL_LINKS} name={PROFILE_DATA.name} />
          </div>

          {modalState.isOpen && (
            <Modal
              isOpen={modalState.isOpen}
              onClose={closeModal}
              title={
                modalState.type === ModalType.EDUCATION ? modalState.data?.title :
                  modalState.type === ModalType.IMAGE ? "Image Preview" :
                    modalState.type === ModalType.CONTACT_SUCCESS ? "" : "Details"
              }
              size={
                modalState.type === ModalType.IMAGE ? '3xl' :
                  modalState.type === ModalType.EDUCATION ? 'xl' : 'md'
              }
            >
              {renderModalContent()}
            </Modal>
          )}
        </div>
      );
    };

    // ReactDOM render logic
    const rootElement = document.getElementById('root');
    if (rootElement) {
      const root = ReactDOM.createRoot(rootElement);
      root.render(
        <React.StrictMode>
          <App />
        </React.StrictMode>
      );
    } else {
      console.error("Root element not found. React app could not be mounted.");
    }
  </script>
</body>

</html>
